@using Krompaco.RecordCollector.Web.Extensions
@using System.Globalization
@model LayoutViewModel

@{
    var linkClasses1 = "rc-link";
    var h1Shown = false;
    var isRootWithCultureSelection = Model.RootCultures?.Count > 0;
}

@{
    void Page(string chosenPage)
    {
        <a lang=" @Model.CurrentCulture?.Name" href="/@Model.CurrentCulture?.Name.ToLower(Model.CurrentCulture)/@chosenPage">@chosenPage.ToUpper()</a>
    }
}
<!DOCTYPE html>
<html lang="@Model.CurrentCulture?.Name">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@Model.Title</title>
    <link href="/dist/manrope-wght.woff2" rel="preload" as="font" type="font/woff2" crossorigin="anonymous" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/ico" />
    @if (!string.IsNullOrWhiteSpace(Model.Robots))
    {
        <meta name="robots" content="@Model.Robots" />
    }
    <meta name="description" content="@Model.Description" />
    @if (!string.IsNullOrWhiteSpace(Model.Keywords))
    {
        <meta name="keywords" content="@Model.Keywords" />
    }
    @await RenderSectionAsync("head", false)

    @if (Model.ContentProperties?.FrontendSetup == "simplecss")
    {
        <link href="/simple.min.css" rel="stylesheet" asp-append-version="true" />
    }
    else
    {
        <link href="/dist/styles.css" rel="stylesheet" asp-append-version="true" />
        <script src="/dist/main.js" async asp-append-version="true"></script>
    }
</head>

@section head {
    @if (isRootWithCultureSelection && Model.ContentProperties.FrontendSetup == "simplecss")
    {
        <header>
            <h1>@Model.Localizer["Select language"]</h1>
            <nav aria-label="@Model.Localizer["Main navigation"]">
                @foreach (var c in Model.RootCultures ?? new List<CultureInfo>())
                {
                    <a lang="@c.Name" href="/@c.Name.ToLower(Model.CurrentCulture)/">@c.NativeName.FirstCharToUpper()</a>


                }
            </nav>
        </header>
    }
  }
<body class="bg-white text-gray-900 font-rc">
    @*<h5>@Model.CurrentPath = current path</h5>
    <h5>@Model.CurrentCulture = current culture</h5>
    <h5>@Model.Robots = robots</h5>
    @foreach (var root in Model.RootCultures)
    {
    <h5>@root = rootculture</h5>
    }
    @foreach (var root in Model.NavigationItems)
    {
    <h5>@root = nav item</h5>
    }

    *@


    @if (Model.RootCultures?.Count > 0 && Model.CurrentPath != "/" || Model.NavigationItems?.Count > 0)
    {
        @if (Model.ContentProperties?.FrontendSetup == "simplecss")
        {
     
            <header>
                <div id="header-container">

                    <nav aria-label="@Model.Localizer["Main navigation"]">
                   
                    @if (Model.CurrentCulture?.Name == "en")
                    {
                        //<a href="@(Model.RootCultures?.Count > 0 ? $"/{Model.CurrentCulture?.Name}/" : "/")" aria-current="page">@Model.Localizer["HOME"]</a>

                            <A HREF="/en/about">Go to the Home Page</A>
                  
                    }

                    else
                    {
                        //<a href="@(Model.RootCultures?.Count > 0 ? $"/{Model.CurrentCulture?.Name}/" : "/")" aria-current="page">@Model.Localizer["HEM"]</a>
                        Page("hem");
                        Page("om");
                        Page("kontakt");
                        Page("erfarenheter");
                    
                       
                    }
                </nav>
                </div>
            </header>
          
        }       }
    @await RenderSectionAsync("header", false)
    <main id="main">
        @RenderBody()
    </main>
    <footer class="max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-gray-500">
        @{
            var footerLinkClasses = "rc-link text-lg";
            var isRootWithCultureSelections = Model.RootCultures?.Count > 0 && Model.CurrentPath == "/";
        }

        @if (isRootWithCultureSelections == false && Model.RootCultures?.Count > 0 && Model.ContentProperties?.FrontendSetup != "simplecss")
        {
            <h2 class="text-center text-lg">@Model.Localizer["Change language"]</h2>
            <div class="flex flex-wrap justify-center">
                @foreach (var c in Model.RootCultures ?? new List<CultureInfo>())
                {
                    <div class="px-3 py-2">
                        <a lang="@c.Name" href="/@c.Name.ToLower(Model.CurrentCulture)/" class="@footerLinkClasses">@c.NativeName.FirstCharToUpper()</a>
                    </div>
                }
            </div>
        }
        <div class="mt-8">
            @*<h2 class="text-center text-lg">@Model.Localizer["Generated by"]</h2>
            <p class="text-center py-2">
            <a href="https://record-collector.net/" class="@footerLinkClasses">Record Collector</a>
            </p>*@
        </div>
    </footer>
</body>
</html>
